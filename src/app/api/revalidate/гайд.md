# Гайд по revalidate API

Этот эндпоинт принимает POST‑запрос и инвалидирует кэш страницы в Next.js. После этого страница будет пересобрана при следующем запросе.

## Как работает
- Приходит POST с JSON.
- Секрет в запросе сравнивается с `REVALIDATE_SECRET` на фронте.
- Если всё ок, вызывается `revalidatePath` для указанного `path`.
- Ответ: `{ ok: true, revalidated: "<path>" }`.

## Условия для работы
### Со стороны фронта
- Фронтенд запущен и доступен по адресу, на который шлётся запрос.
- В окружении фронта задан `REVALIDATE_SECRET`.
- В запросе передан `secret` и он совпадает с `REVALIDATE_SECRET`.
- В запросе передан `path` (например `/news`).
- Запрос — POST, тело — JSON, заголовок `Content-Type: application/json`.

### Со стороны бэка
- В окружении бэка задан `FRONTEND_URL`, указывающий на доступный фронт.
- В окружении бэка задан `REVALIDATE_SECRET`, совпадающий со значением на фронте.
- Бэк отправляет POST на `${FRONTEND_URL}/api/revalidate` с JSON `{ secret, path }`.
- Бэк имеет сетевой доступ до фронта (локально/в проде без блокировок).

## Типичные ошибки
- Неверный секрет → `ok:false` и статус 401.
- Нет `path` → `ok:false` и статус 400.